# 항해99 9기 4주차 주특기 3주차 게시판 만들기

기능
### 공통
- cascade를 활용해 연관관계 중 상위 객체가 삭제될 경우, 하위 객체도 모두 삭제되게 하기


### 기능0

- **게시글 1개 조회(상세 페이지용) 시, 댓글/대댓글/좋아요 수 모두 포함하여 response**

### 기능1
- **게시글 좋아요 기능 및 댓글/대댓글 좋아요**
    - **`200`** AccessToken이 있고, 유효한 Token일 때(== 로그인 상태일 때)만 좋아요 가능하게 하기
    - **`Exception`** AccessToken이 없거나, 유효하지 않은 Token일 때 ‘로그인이 필요합니다.’를 200 정상 응답으로 나타내기
    - 게시글 목록 response에 id, 제목, 작성자, 좋아요 개수, 대댓글 제외한 댓글 개수, 등록일, 수정일 나타내기

### 기능2
- **대댓글**
    - **`200`** AccessToken이 있고, 유효한 Token일 때(== 로그인 상태일 때)만 댓글/대댓글 작성 가능하게 하기
    - 댓글 리스트 response할 때 대댓글 리스트도 모두 포함해서 보여주기
    - **`Exception`** AccessToken이 없거나, 유효하지 않은 Token일 때 ‘로그인이 필요합니다.’를 200 정상 응답으로 나타내기

### 기능3

- (게시글에 들어갈) **이미지 업로드**
    - hint. AWS IAM, SDK, S3
    - 게시글 작성 중 요청하는 플로우이며, 게시글당 1개의 이미지만 업로드 가능하다는 전제로 진행
    - **`200`** AccessToken이 있고, 유효한 Token일 때(== 로그인 상태일 때)만 요청 가능하게 하기
    + s3 객체 주소를 response로 반환하기 (이미지 url)
    - `Exception` Multipartfile로 이미지 파일을 받고, 파일 변환에 실패할 경우, ‘파일 변환에 실패했습니다’를 200 정상 응답으로 나타내기

### 기능4

- **게시글**
    - 이미지 업로드 후, 받아온 response의 imgUrl을 포함하여 글 제목,내용,이미지 주소를 함께 업로드한다.
    - **`200`** AccessToken이 있고, 유효한 Token일 때(== 로그인 상태일 때)만 요청 가능하게 하기
    - **`Exception`** 해당 게시글 조회 시, 존재하지 않는 게시글 id 일 때, ‘존재하지 않는 게시글 입니다.’를 200 정상 응답으로 나타내기

### 기능5

- **마이페이지**
    - AccessToken 속 사용자가 작성한 게시글, 댓글/대댓글, 좋아요한 게시글/댓글 분류하여 response
- **게시글과 댓글 좋아요 개수 표시**
    - AccessToken이 없어도 좋아요 개수 조회가 가능하도록 하기
    - 조회하는 게시글 리스트에 작성된 모든 좋아요 개수를 게시글 리스트 response에 포함하기
    - 조회하는 각 게시글에 작성된 모든 좋아요 개수를 게시글 리스트 response에 포함하기
    - 조회하는 각 댓글/대댓글에 작성된 모든 좋아요 개수를 댓글 리스트 response에 포함하기
            
### 기능6

- **스케줄러**
    - 매일 AM 01:00 마다 댓글이 0개인 게시물 전체 삭제하기
    - 삭제될 때마다 `"게시물 <{게시물 이름}>이 삭제되었습니다."` 라는 info level log 남기기
